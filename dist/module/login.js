"use strict";window.onload=function(){console.log(document.cookie),console.log(1);var n=document.getElementById("user"),t=document.getElementById("pwd"),e=document.getElementById("btn"),o=document.cookie.split("; "),r=[],a=document.getElementById("checkCard"),c=document.getElementById("cont"),l=document.getElementById("change"),d=i();if(document.cookie)for(var u=0;u<o.length;u++)"username"==(r=o[u].split("="))[0]?n.value=r[1]:"pwd"==r[0]&&(t.value=r[1]);function s(){var e,o,n;switch(parseInt(3*Math.random())){case 0:return n=parseInt(10*Math.random())+48,String.fromCharCode(n);case 1:return o=parseInt(26*Math.random())+97,String.fromCharCode(o);case 2:return e=parseInt(26*Math.random())+65,String.fromCharCode(e)}}function i(){for(var e=[],o=0;o<4;o++)e.push(s());return e}c.innerHTML=d.join(""),e.onclick=function(e){e=e||window.event,$.ajax({method:"get",url:"http://localhost/gulp-project-template/dist/servers/login.php",data:{user:n.value,pwd:t.value},dataType:"json",async:!0,success:function(e){if(console.log(e),e.code){var o=a.value;o.toLowerCase()==d.join("").toLowerCase()||o.toUpperCase()==d.join("").toUpperCase()?window.location.href="new.html":alert("验证码错误")}else alert("用户名或密码错误")}}),e.preventDefault();var o=n.value;document.cookie="username="+o,console.log(document.cookie)},l.onclick=function(){d=i(),c.innerHTML=d.join("")}};